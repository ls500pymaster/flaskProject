from flask import (    Blueprint, render_template)from flaskr.db import get_dbfrom flask import requestbp = Blueprint('blog', __name__)@bp.route('/names/')def names():    db = get_db()    rows = db.execute('SELECT DISTINCT artist from tracks').fetchall()    count_res = len(rows)    return render_template('player/artist.html', rows=rows, count=count_res)@bp.route('/tracks/')def tracks():    db = get_db()    get_genre = request.args.get("genre")    genre = db.execute('SELECT * FROM tracks')    genre.fetchall()    all_tracks = db.execute('SELECT * from tracks',).fetchall()    count_res = len(all_tracks)    return render_template('player/tracks.html', count_res=count_res)@bp.route('/tracks/<genre>/')def tracks_genre(genre):    db = get_db()    all_tracks = db.execute("SELECT * FROM tracks WHERE genre = ? COLLATE NOCASE", (genre,)).fetchall()    return render_template('player/tracks_genre.html', all_tracks_genre=len(all_tracks))@bp.route('/tracks-sec/')def tracks_sec():    db = get_db()    length = db.execute('SELECT * from tracks').fetchall()    return render_template('player/tracks_sec.html', length=length)@bp.route('/tracks-sec/statistics/')def tracks_statistics():    db = get_db()    total_length = db.execute('SELECT length FROM tracks;').fetchall()    total = sum([i['length'] for i in total_length])    avg = total / len(total_length)    return render_template('player/tracks_stats.html', length=total_length, total=total, avg=avg)